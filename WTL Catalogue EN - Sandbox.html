!-- formulaire contact EN propre avec affichage dynamique --

!DOCTYPE html
html lang=en
head
  meta charset=UTF-8
  titleContact – Festilighttitle
  style
    body {
      font-family 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color #f4f4f4;
      display flex;
      justify-content center;
      align-items center;
      min-height 100vh;
      margin 0;
    }
    form {
      background #ffffff;
      border-radius 16px;
      padding 40px;
      width 100%;
      max-width 550px;
      box-shadow 0 6px 20px rgba(0, 0, 0, 0.15);
    }
    h1 {
      text-align center;
      margin-bottom 30px;
      font-size 28px;
      color #333;
    }
    label {
      font-weight bold;
      margin-top 18px;
      display block;
    }
    input, textarea, select {
      width 100%;
      padding 12px;
      margin-top 6px;
      border-radius 8px;
      border 1px solid #ccc;
      font-size 15px;
    }
    input[type=submit] {
      background-color #F5A623;
      color white;
      font-weight bold;
      cursor pointer;
      margin-top 25px;
      font-size 17px;
      border none;
      padding 14px;
      border-radius 8px;
    }
    input[type=submit]hover {
      background-color #d87c15;
    }
    .demand-buttons {
      display flex;
      flex-direction column;
      gap 10px;
      margin-bottom 25px;
    }
    .demand-buttons button {
      display flex;
      justify-content center;
      align-items center;
      padding 14px;
      font-size 15px;
      background-color #f9f9f9;
      border 2px solid #ddd;
      border-radius 8px;
      cursor pointer;
      transition all 0.3s;
    }
    .demand-buttons buttonhover {
      background-color #f0f0f0;
      border-color #F5A623;
    }
    .demand-buttons button.selected {
      background-color #F5A623;
      color white;
      font-weight bold;
      border-color #F5A623;
    }
    .hidden {
      display none;
    }

input[type=checkbox] {
  width auto;
}

  style
head
body
  form action=httpstest.salesforce.comservletservlet.WebToLeadencoding=UTF-8&orgId=00DDO0000008iKK method=POST
    input type=hidden name=oid value=00DDO0000008iKK
    input type=hidden name=retURL value=httpswww.festilight.com
    input type=hidden name=contact_en value=1

    !-- ✅ Champs cachés Salesforce corrects --
    input type=hidden id=Decorer_animer_collectivite_EN__c name=Decorer_animer_collectivite_EN__c value=0
    input type=hidden id=Decorer_animer_commercial_EN__c name=Decorer_animer_commercial_EN__c value=0
    input type=hidden id=Visual_merchandising_EN__c name=Visual_merchandising_EN__c value=0
    input type=hidden id=Distribuer_produits_Festilight_EN__c name=Distribuer_produits_Festilight_EN__c value=0
    input type=hidden id=SAV_EN__c name=SAV_EN__c value=0
    input type=hidden id=Solutions_animation_EN__c name=Solutions_animation_EN__c value=0
    input type=hidden id=Autre_demande_EN__c name=Autre_demande_EN__c value=0

    h1Contact ush1

    div class=demand-buttons
      button type=button onclick=selectDemand(this, 'Decorer_animer_collectivite_EN__c')Decorate, animate my municipalitybutton
      button type=button onclick=selectDemand(this, 'Decorer_animer_commercial_EN__c')Decorate, animate my commercial spacebutton
      button type=button onclick=selectDemand(this, 'Visual_merchandising_EN__c')Visual merchandisingbutton
      button type=button onclick=selectDemand(this, 'Distribuer_produits_Festilight_EN__c')Distribute Festilight productsbutton
      button type=button onclick=selectDemand(this, 'SAV_EN__c')After-sales servicebutton
      button type=button onclick=selectDemand(this, 'Solutions_animation_EN__c')Interactive game – Le Défi de Noël®button
      button type=button onclick=selectDemand(this, 'Autre_demande_EN__c')Other requestbutton
    div

    label for=salutationSalutationlabel
    select id=salutation name=salutation
      option value=--None--option
      option value=Mr.Mr.option
      option value=Mrs.Mrs.option
    select

    label for=first_nameFirst namelabel
    input id=first_name name=first_name type=text required

    label for=last_nameLast namelabel
    input id=last_name name=last_name type=text required

	div id=position_block
  label for=titleYour positionlabel
  input id=title name=title type=text
div


    div id=company_block class=hidden
      label for=companyCompany, Organizationlabel
      input id=company name=company type=text
    div

div id=represent_block class=hiddendiv

div id=distributeurType class=hidden
  label for=00N7x00000NXxldDistributor Typelabel
  select id=00N7x00000NXxld name=00N7x00000NXxld title=Distributor Type
    option value=--None--option
    option value=Professional DistributorsProfessional Distributorsoption
    option value=Public DistributorsPublic Distributorsoption
  select
div



    label for=countryCountrylabel
    select id=country name=country required
      option value=-- Select --option
      option value=BelgiumBelgiumoption
      option value=SwitzerlandSwitzerlandoption
      option value=LuxembourgLuxembourgoption
      option value=OtherOtheroption
    select

    label for=cityCitylabel
    input id=city name=city type=text required

    label for=emailEmaillabel
    input id=email name=email type=email required

    label for=phonePhonelabel
    input id=phone name=phone type=tel required

input type=hidden name=lead_source value=Demande entrante WEB 


!-- Free message field --
label for=messageMessagelabel
input  id=00N7x00000NXj8U maxlength=255 name=00N7x00000NXj8U rows=5 placeholder=Your message...textarea

!-- GDPR checkboxes --
div style=display flex; align-items center; margin-top 15px;
 input  id=00N7x00000NXfWz name=00N7x00000NXfWz type=checkbox value=1 required style=margin-right4px;
  label for=RGPD_consent__c style=display inline; margin 0;I agree that my data may be used to process my request in accordance with the privacy policy.label
div

div style=display flex; align-items center; margin-top 8px;
  input  id=00N7x00000NXVZF name=00N7x00000NXVZF type=checkbox value=1 style=margin-right4px;
  label for=RGPD_newsletter__c style=display inline; margin 0;I would like to receive the Festilight newsletter.label
div

div style=display flex; align-items center; margin-top 8px;
  input  id=00N7x00000NXV9R name=00N7x00000NXV9R type=checkbox value=1 name=RGPD_offres__c style=margin-right4px;
  label for=RGPD_offres__c style=display inline; margin 0;I would like to receive Festilight's commercial offers and promotions.label
div




    input type=submit value=Send
  form

  script
   function selectDemand(button, fieldId) {
  const allFields = [
    'Decorer_animer_collectivite_EN__c',
    'Decorer_animer_commercial_EN__c',
    'Visual_merchandising_EN__c',
    'Distribuer_produits_Festilight_EN__c',
    'SAV_EN__c',
    'Solutions_animation_EN__c',
    'Autre_demande_EN__c'
  ];
  allFields.forEach(id = {
    const field = document.getElementById(id);
    if (field) field.value = '0';
  });
  document.getElementById(fieldId).value = '1';
  document.querySelectorAll('.demand-buttons button').forEach(btn = btn.classList.remove('selected'));
  button.classList.add('selected');

   Champs dynamiques
  const showCompany = ['Decorer_animer_commercial_EN__c', 'Distribuer_produits_Festilight_EN__c'].includes(fieldId);
  document.getElementById('company_block').style.display = showCompany  'block'  'none';
  const showPosition = fieldId !== 'SAV_EN__c';
  document.getElementById('position_block').style.display = showPosition  'block'  'none';

  const representBlock = document.getElementById('represent_block');
  if (['Decorer_animer_commercial_EN__c', 'Solutions_animation_EN__c'].includes(fieldId)) {
    let options = '';

    if (fieldId === 'Decorer_animer_commercial_EN__c') {
      options = `
        option value=-- Select --option
        option value=A commercial spaceA commercial spaceoption
        option value=A theme parkA theme parkoption
        option value=A hotel or a restaurantA hotel or a restaurantoption
        option value=A car dealershipA car dealershipoption
        option value=OtherOtheroption
      `;
    }

    if (fieldId === 'Solutions_animation_EN__c') {
      options = `
        option value=-- Select --option
        option value=MunicipalityMunicipalityoption
        option value=Tourist officeTourist officeoption
        option value=Merchant’s associationMerchant’s associationoption
        option value=Commercial spaceCommercial spaceoption
        option value=OtherOtheroption
      `;
    }

    representBlock.innerHTML = `
      label for=I_represent__cI representlabel
      select id=I_represent__c name=I_represent__c${options}select
    `;
    representBlock.style.display = 'block';
  } else {
    representBlock.innerHTML = '';
    representBlock.style.display = 'none';
  }

   ✅ Correction  ce bloc doit être À L'INTÉRIEUR de la fonction
 Show Distributor Type only if Distribute Festilight Products is selected
if (fieldId === 'Distribuer_produits_Festilight_EN__c') {
  document.getElementById('distributeurType').style.display = 'block';
} else {
  document.getElementById('distributeurType').style.display = 'none';
}

}
  script
body
html
